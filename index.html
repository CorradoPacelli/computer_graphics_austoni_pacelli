<!DOCTYPE html>
<html lang="en-US">

<head>
    <link rel="icon" href="model/favicon.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Whack a mole - Austoni Pacelli</title>
    <style type="text/css">
      body {
        margin: 0;
        background-color: gray;
      }
      canvas {
        display: block;
        background-color: white;
      }

      .slider
      {
        -webkit-appearance: none;
        width: 100%;
        height: 25px;
        background: #d3d3d3;
        outline: none;
        opacity: 0.7;
        -webkit-transition: .2s;
        transition: opacity .2s;
      }

        </style>

        <script type="text/javascript" src="./src/vars.js"></script>
        <script type="text/javascript" src="./src/webgl-obj-loader.min.js"></script>
        <script type="text/javascript" src="./src/utils.js"></script>
        <script type="text/javascript" src="./src/console.js"></script>
        <script type="text/javascript" src="./src/app.js"></script>
        <script type="text/javascript" src="./src/quaternion.min.js"></script>
</head>


<body>

  <canvas id="c" style="background: rgb(90,89,93);background: linear-gradient(0deg, rgba(90,89,93,1) 0%, rgba(17,12,3,1) 100%);"></canvas>
  
   <div id="legend" style="position: absolute; z-index: 1; left: 20px; top: 0px; width:280px; height:440px; background-color: white; border-style: solid; border-color: purple; opacity: 0.5; overflow:auto; text-align:center">
      <p style="font-family: Helvetica; font-size:larger">
        <b> Light Manipulation</b>     
        <ul style="font-family: Helvetica; font-size:larger">
          Direction &alpha;<br>
          <div class="slidecontainer"> <input type="range" min="0" max="180" step="1" value="60" id="dirAlpha"></div> </br>
          Direction &beta;<br>
          <div class="slidecontainer"> <input type="range" min="-180" max="180" step="1" value="100" id="dirBeta"></div> </br>
          Change Light Color  <br> 
          <input type="color" id="lightcol" value="#ffffff" onchange="onLightColorChange(this.value)"> <br> </br>
          Specular Color <br>
          <input type="color" id="lightcol" value="#ffffff" onchange="onSpecColorChange(this.value)"> <br> </br>
          Shiny &gamma; <br>
          <div class="slidecontainer"> <input type="range" min="10" max="100" id="specShine" value="24" onchange="onSpecShineChange(this.value)"></div> </br>
        </ul>
      </p>
    </div> 

    <button style="position: absolute; z-index: 1; right: 20px; bottom: 390px; height:50px; width:100px" onclick="myFunction()">Show/Hide InfoBox</button>

    <div id="infoBox" style="font-family: Helvetica; position: absolute; z-index: 1; right: 20px; bottom: 50px; width:350px; height:300px; background-color: white; border-style: dotted; border-color: purple; opacity: 0.5; padding: 5px 10px 5px 10px; overflow:auto; font-size: large">
      <p style="font-family: Helvetica; font-size:larger">
        <b>Controls</b>     
        <ul style="font-family: Helvetica; font-size:larger;">
          <li>Left Click & Drag: move the camera around</li>
          <li>Double Click: reset camera position</li>
          <li>Scroll Up/Down: Zoom Out/In the camera</li>
          <li>Spacebar: start the game!</li>
          <li><input type="checkbox" id="chbx" onchange="onSoundBoxChange(this);" /> Sound ON<br/>
          <audio id="audioWhack"></audio>
          </li>
        </ul>
      </p>   
    </div>

    <div id="legend" style="position: absolute; z-index: 1; left: 20px; bottom: 50px; width:350px; height:205px; background-color: white; border-style: solid; border-color: purple; opacity: 0.5; padding: 5px 10px 5px 10px; overflow:auto">
    <ul>
      <p style="font-family: Helvetica; font-size:larger">
        <h2><b>GAME COUNTERS</b></h2>
			<div style="position:relative; top:-20px">
				<h4 style="display:inline; float:left">REMAINING TIME:</h4>
				<h4 id="remTime" style="display:inline; float:right">30.0 s</h4>
			</div>
			<div style="position:relative; top:-35px">
				<h4 style="display:inline; float:left">HIT COUNT:&emsp;&emsp;&emsp;&emsp;&emsp;</h4>
				<h4 id="moleHit" style="display:inline; float:right">0</h4>
			</div>
			<div style="position:relative; top:-50px">
				<h4 style="display:inline; float:left">MISS COUNT:&emsp;&emsp;&emsp;&emsp;&emsp;</h4>
				<h4 id="moleMiss" style="display:inline; float:right">0</h4>
			</div>
			<br>
			<div align='left' style="position:absolute; right: 25px; top: 200px; width:auto; height:auto; ">
			<h2><b>GAME MODE</b></h2>
			<div>
				<br>
				<b> SELECT GAME MODE:&emsp;&emsp; </b>
            	<select id="ddmode" name="GameMode" onchange="onDropdownChange(this.value);">
                	<option value="1" selected>EASY</option>
               		<option value="2">HARD</option>
                	<option value="3">EXTREME</option>
            	</select>
				<br>
			</div>
		</ul>
		</div>


  <!-- ADDITIONAL SCRIPTS -->
  <script>
    function HEX2RGB(hex) {
        "use strict";
        if (hex.charAt(0) === '#') {
            hex = hex.substr(1);
        }
        if ((hex.length < 2) || (hex.length > 6)) {
            return false;
        }
        var values = hex.split(''),
            r,
            g,
            b;

        if (hex.length === 2) {
            r = parseInt(values[0].toString() + values[1].toString(), 16);
            g = r;
            b = r;
        } else if (hex.length === 3) {
            r = parseInt(values[0].toString() + values[0].toString(), 16);
            g = parseInt(values[1].toString() + values[1].toString(), 16);
            b = parseInt(values[2].toString() + values[2].toString(), 16);
        } else if (hex.length === 6) {
            r = parseInt(values[0].toString() + values[1].toString(), 16);
            g = parseInt(values[2].toString() + values[3].toString(), 16);
            b = parseInt(values[4].toString() + values[5].toString(), 16);
        } else {
            return false;
        }
        return [r, g, b];
    }

      function myFunction() {
        var x = document.getElementById("infoBox");
        if (x.style.display === "none") {
          x.style.display = "block";  
        } else {
          x.style.display = "none";
        }
      }

      function onLightColorChange(value){
        let result = HEX2RGB(value);
        var r = result[0]/255.0;
        var g = result[1]/255.0;
        var b = result[2]/255.0;
        dirLightColor = [r,g,b];
      }

      function onSpecShineChange(value){
        specShine = value;
      }

      function onSpecColorChange(value){
      	let result = HEX2RGB(value);
        var r = result[0]/255.0;
        var g = result[1]/255.0;
        var b = result[2]/255.0;
        specularColor = [r,g,b];
      }
      function onSoundBoxChange(e) {
      var audio = document.getElementById('audioWhack');
      if (e.checked) {
        audio.src = "Assets/whack2.mp3";
        audio.loop = true;
        audio.play();
      }
      else {
        audio.src = "";
        audio.play();
      }
      e.blur();
    }
    function onDropdownChange(e){
        if (e == '1') {
            game_mode=1;
        }     
        else if (e == '2') {
            game_mode=2;
        }     
        else if (e == '3') {
            game_mode=3;
        }
    }
   </script>

</body>

</html>
